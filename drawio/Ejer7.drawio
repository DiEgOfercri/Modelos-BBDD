<mxfile host="app.diagrams.net" modified="2023-11-15T13:21:12.062Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" etag="7jtwtjORMNWRBM6Ehrzp" version="22.1.1" type="github">
  <diagram name="Página-1" id="LdJ8-I16KX-w4ni1irbp">
    <mxGraphModel dx="1434" dy="750" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="FN8WQJDuJfTfx9tnMbKI-1" value="Hemos desarrollado un programa de facturación para una tienda que vende piezas de lavadoras.&lt;br style=&quot;font-size: 13px;&quot;&gt;El cliente nos pidió expresamente que:&lt;br style=&quot;font-size: 13px;&quot;&gt;- Se pudieran borrar facturas en cualquier momento (ésto lo piden todos los clientes y no es broma)&lt;br style=&quot;font-size: 13px;&quot;&gt;- Al crear una nueva factura se pudiera poner a mano el número (siempre que no exista) y la fecha, aunque el sistema te sugiriera el siguiente número correlativo.&lt;br style=&quot;font-size: 13px;&quot;&gt;Ya le dijimos que los número de factura deben ser consecutivos en número y fecha (y sin huecos) y con estas peticiones podría facturar de una forma no legal.&lt;br style=&quot;font-size: 13px;&quot;&gt;Nos ha llamado diciendo que nuestro programa es una mierda porque presentó el primer trimestre de IVA (facturas de enero a marzo) y ahora en octubre no coincide lo que se ha presentado a Hacienda con lo que hay en la aplicación.&lt;br style=&quot;font-size: 13px;&quot;&gt;Sospechamos que el ciente ha hecho lo siguiente:&lt;br style=&quot;font-size: 13px;&quot;&gt;- Ha presentado el trimestre de IVA&lt;br style=&quot;font-size: 13px;&quot;&gt;- Ha borrado una factura del trimestre y en octubre ha creado una factura nueva en sustitución de la que borró, claramente ha puesto el mismo número de factura y fecha que la borrada.&lt;br style=&quot;font-size: 13px;&quot;&gt;Aunque listo las facturas ordenadas por número, no tengo forma de demostrar que tiene un morro que se lo pisa.&lt;br style=&quot;font-size: 13px;&quot;&gt;Qué cambios realizarías en la modelización para pillar al cliente la próxima vez que nos quiera engañar de esta manera? Actualmente el id es el número de factura.&lt;br style=&quot;font-size: 13px;&quot;&gt;Ya puestos te pregunto por otro detalle: Cuando termina el año se empiezan a numerar las facturas otra vez desde 1. Ya estás convencido que el número de factura no puede ser el id?" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Verdana;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="760" height="300" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
